<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <title>색칠 테스트</title>
</head>
<body>
    <h2>색칠 모드 디버깅</h2>
    <p>브라우저 콘솔을 열고 다음 명령어를 입력해보세요:</p>
    
    <h3>1. 현재 상태 확인:</h3>
    <code>
        console.log('paintModeEnabled:', window.paintModeEnabled);<br>
        console.log('currentColor:', window.currentColor);<br>
        console.log('paintModeToggle 버튼:', document.getElementById('paintModeToggle'));
    </code>
    
    <h3>2. 강제로 색칠 모드 활성화:</h3>
    <code>
        window.paintModeEnabled = true;<br>
        console.log('색칠 모드 강제 활성화됨');
    </code>
    
    <h3>3. 버튼 상태 확인:</h3>
    <code>
        const btn = document.getElementById('paintModeToggle');<br>
        console.log('버튼 클래스:', btn.className);<br>
        console.log('버튼 텍스트:', btn.textContent);
    </code>

    <h3>4. 필지 클릭 후 로그 확인:</h3>
    <p>필지를 클릭한 후 콘솔에서 다음과 같은 로그를 확인하세요:</p>
    <ul>
        <li>"🎨 ULTRATHINK 왼쪽 클릭 - 바로 색칠"</li>
        <li>"🚫 색칠 모드 OFF - 아무 색칠도 하지 않음" (이 메시지가 나오면 문제)</li>
    </ul>

    <h3>5. 디버깅 단계별 체크:</h3>
    <code>
        // 1. 페인트 모드 체크<br>
        console.log('Step 1 - paintModeEnabled:', window.paintModeEnabled);<br><br>
        
        // 2. 현재 색상 체크<br>
        console.log('Step 2 - currentColor:', window.currentColor);<br><br>
        
        // 3. 검색 모드 체크<br>
        console.log('Step 3 - currentMode:', window.currentMode);<br><br>
        
        // 4. 버튼 이벤트 리스너 강제 실행<br>
        document.getElementById('paintModeToggle').click();
    </code>

    <script>
        setTimeout(() => {
            if (window.parent && window.parent !== window) {
                window.parent.postMessage({
                    type: 'debug',
                    message: '디버그 페이지 로드됨'
                }, '*');
            }
        }, 1000);
    </script>
</body>
</html>